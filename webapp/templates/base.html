<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		{% if title %}
		<title>{{ title }} - Librepass</title>
		{% else %}
		<title>Welcome to Librepass</title>
		{% endif %}

		<!-- Latest compiled and minified CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="/static/css/style.css" />
	</head>
	<body>
		<nav class="navbar navbar-expand-lg bg-light fixed-top">
			<div class="container-fluid">
				<!-- Navbar Brand -->
				<a class="navbar-brand" href="{{url_for('index')}}">
					<img
						src="/static/images/logo_largo_con_texto.png"
						alt="Logo largo"
						width="150px"
					/>
				</a>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarSupportedContent"
					aria-controls="navbarSupportedContent"
					aria-expanded="false"
					aria-label="Toggle navigation"
				>
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item">
							<a class="nav-link" href="{{url_for('index')}}">Inicio</a>
						</li>
						<li class="nav-item dropdown">
							<a
								class="nav-link dropdown-toggle"
								href="#"
								role="button"
								data-bs-toggle="dropdown"
								>Añadir</a
							>
							<ul class="dropdown-menu">
								<li>
									<a class="dropdown-item" href="{{url_for('add_employee')}}"
										>Empleado</a
									>
								</li>
								<li>
									<a class="dropdown-item" href="{{url_for('add_door')}}"
										>Puerta</a
									>
								</li>
							</ul>
						</li>

						<li class="nav-item dropdown">
							<a
								class="nav-link dropdown-toggle"
								href="#"
								role="button"
								data-bs-toggle="dropdown"
								>Ver</a
							>
							<ul class="dropdown-menu">
								<li>
									<a class="dropdown-item" href="{{url_for('see_employees')}}">
										Lista de Empleados
									</a>
								</li>
								<li>
									<a class="dropdown-item" href="{{url_for('see_doors')}}">
										Lista de Puertas
									</a>
								</li>
								<li>
									<a href="{{url_for('see_accesses')}}" class="dropdown-item">
										Lista de Accesos
									</a>
								</li>
							</ul>
						</li>
					</ul>
									<!-- Right side of navbar -->
				{% if current_user.is_authenticated %}
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="nav-link" href="#"
							>Bienvenido, {{ current_user.username }}</a
						>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{{ url_for('logout') }}">Cerrar Sesion</a>
					</li>
				</ul>
				{% else %}
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="nav-link" href="{{ url_for('login') }}">Ingresar</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{{ url_for('register') }}"
							>Registrarse</a
						>
					</li>
				</ul>
				{% endif %}
				</div>
			</div>
		</nav>

		{% with messages = get_flashed_messages(with_categories = true) %} {% if
		messages %} {% for category, message in messages %}
		<div class="alert alert-{{ category }} alert-dismissible">
			<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
			{{ message }}
		</div>
		{% endfor %} {% endif %} {% endwith %}

		<!-- 
		<nav>
			<ul class="navbar-nav">
				<a class="navbar-brand" href="#">
					<img
						src="/static/images/logo.png"
						alt="Logo"
						style="height: 30px; width: 30px"
						class="rounded-pill"
					/>
					Librepass
				</a>
				<li class="nav-item">
					<a class="nav-link" href="{{url_for('index')}}">Home</a>
				</li>
				{% if current_user.is_anonymous %}
				<li class="nav-item">
					<a class="nav-link" href="{{ url_for('login') }}">Login</a>
				</li>
				{% else %}
				<li class="nav-item">
					<a class="nav-link" href="{{ url_for('logout') }}">Logout</a>
				</li>
				{% endif %}

				<li class="nav-item dropdown">
					<a
						class="nav-link dropdown-toggle"
						href="#"
						role="button"
						data-bs-toggle="dropdown"
						>Añadir</a
					>
					<ul class="dropdown-menu">
						<li>
							<a class="dropdown-item" href="{{url_for('add_employee')}}"
								>Empleado</a
							>
						</li>
						<li>
							<a class="dropdown-item" href="{{url_for('add_door')}}">Puerta</a>
						</li>
					</ul>
				</li>

				<li class="nav-item dropdown">
					<a
						class="nav-link dropdown-toggle"
						href="#"
						role="button"
						data-bs-toggle="dropdown"
						>Ver</a
					>
					<ul class="dropdown-menu">
						<li>
							<a class="dropdown-item" href="{{url_for('see_employees')}}">
								Lista de Empleados
							</a>
						</li>
						<li>
							<a class="dropdown-item" href="{{url_for('see_doors')}}">
								Lista de Puertas
							</a>
						</li>
						<li>
							<a href="{{url_for('see_accesses')}}" class="dropdown-item">
								Lista de Accesos
							</a>
						</li>
					</ul>
				</li>
			</ul>
		</nav>
  -->
		{% block content %} {% endblock %}

		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
			crossorigin="anonymous"
		></script>
	</body>
</html>
